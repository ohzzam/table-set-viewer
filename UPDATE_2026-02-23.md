# 2026-02-23 업데이트

## 요약
테이블 수/컬럼 수가 많을 때 UI가 멈추며 Windows에서 “응답 없음”으로 보이던 문제를 개선했습니다.
무거운 작업(DB 조회/엑셀 생성/대량 테이블 렌더링)을 UI 스레드에서 분리해, 작업 중에도 화면이 계속 반응하도록 변경했습니다.

## 변경 사항
- 엑셀 내보내기(`엑셀로 내보내기`)
  - DB 조회 + 엑셀 생성/저장을 UI 스레드에서 실행하던 구조를 QThread 백그라운드로 이동
  - 진행 상태를 `QProgressDialog`로 표시
  - 워커 스레드에서 DB 커넥션을 새로 생성하여 스레드 안전성 확보

- 테이블 구조/정보 표시(체크된 테이블들의 스키마 표시)
  - 여러 테이블 체크/전체선택 시 스키마 조회를 UI 스레드에서 반복 실행하던 구조를 QThread 백그라운드로 이동
  - 연속 체크 변경 시 과도한 재조회 방지를 위해 150ms 디바운스 적용
  - 늦게 도착한 결과가 화면을 덮어쓰지 않도록 request_id로 최신 요청만 반영

- 대량 렌더링 최적화
  - 구조 표(QTableWidget)에 많은 행을 한 번에 `setItem()`로 채우면서 멈추는 현상을 완화
  - 결과 렌더링을 200행 청크로 나눠 `QTimer`로 조금씩 채우도록 변경

- 부가 개선
  - Connect 후 테이블 목록을 채울 때/전체선택 체크 변경 시 `blockSignals`/`setUpdatesEnabled`로 시그널 폭주 및 리페인트 비용 감소
  - `cellChanged` 시그널과 `show_table_schema` 시그니처 불일치로 인한 잠재 문제를 흡수(`*_args`)

## 영향 파일
- `gui_main.py`

## 테스트 방법(수동)
1. 실행: `python main.py`
2. DB 연결 후 테이블 수가 많은 DB에서 `전체선택` 또는 다중 선택
3. 구조 표시가 진행되는 동안 창이 멈추지 않는지 확인
4. `엑셀로 내보내기` 실행 시 진행 다이얼로그가 뜨고 UI가 반응하는지 확인

## 비고
- UI/버튼 구성 등 UX는 유지하면서, 내부 처리만 비동기/청크 처리로 변경했습니다.
